\chapter{다이오드}
다이오드란 P타입 반도체와 N타입 반도체를 붙여서 PN 접합을 만든 소자를 의미한다. 다이오드의 원리를 살펴보자.
\section{평형 상태의 다이오드}
P타입 반도체와 N타입 반도체를 붙이면 처음에는 자유 전자와 양공이 상대방 영역으로 넘어가서 상쇄된다. 그러다 보면 전자를 내주고 +가 된 도너 이온이나, 양공을 만들고 전자를 받아 -가 된 억셉터 이온들에 의한 전기장이 이 움직임을 방해한다.
최종적으로는 겉으로 보기에는 움직임이 멈추게 되는데, 이를 평형 상태라고 한다. \figurename~\ref{fig:eq pn junc}\을 보자.
\begin{figure}
   \centering
   \image{pn_junc.png}
   \caption{평형 상태에서의 PJ 접합}\label{fig:eq pn junc}
\end{figure}

\figurename~\ref{fig:eq pn junc}에서 동그라미는 움직일 수 있는 전자나 양공 캐리어, 네모는 움직일 수 없는 도너나 억셉터 이온을 의미한다.
양공 기준으로 움직임을 설명해보자. 전자는 반대 방향의 움직임으로 생각하면 되니까.
파란 화살표는 양공의 움직임(확산), 노란 화살표는 이온에 의한 전기력을 의미한다.
처음에는 농도차로 인해 양공은 오른쪽에서 왼쪽으로 이동한다.
그러다 보면 사라진 캐리어들로 인해 중화되지 않은 상태로 남은 이온들 간의 반대 방향 전기장이 점점 커지고, 이에 따라 양공은 왼쪽에서 오른쪽으로 드리프트하는 영향을 받는다.
결국에는 양공의 확산과 드리프트의 영향이 같아져서 겉으로 보기에는 양공의 움직임이 없는 것처럼 보이는, 즉 실질적인 전류가 없는 평형 상태에 도달한다. 전자 입장에서도 마찬가지이다.
이 상황을 수식으로 전개하면 다음과 같다.
\begin{IEEEeqnarray*}{rCl}
    -qD_p\frac{dp}{dx}&=&q\mu_ppE=q\mu_pp(-\frac{dV}{dx})\\
    \mu_p\frac{dV}{dx}&=&D_p\frac{1}{p}\frac{dp}{dx}\\
    \mu_p\int_{x_1}^{x_2}\frac{dV}{dx}dx&=&D_p\int_{x_1}^{x_2}\frac{1}{p}\frac{dp}{dx}dx\\
    \mu_p(V(x2)-V(x1))&=&D_p ln\frac{p(x_2)}{p(x_1)}\\
    V(x_2)-V(x_1)&=&\frac{D_p}{\mu_p}ln\frac{p(x_2)}{p(x_1)}
\end{IEEEeqnarray*}
두 지점 간의 전압 차이를 $V_{bi}$라 하자. 아인슈타인 관계식 $\frac{D_p}{\mu_p}=\frac{kT}{q}$을 적용하고, $x_1$에서의 양공 농도는 $p_n=\frac{{n_i}^2}{N_d}$, $x_2$에서의 양공 농도는 $p_p=N_A$임을 이용하면 $V_{bi}$는 다음과 같이 정리된다.
\begin{IEEEeqnarray*}{rCl}
    V_{bi}&=&\frac{kT}{q}ln\frac{p_p}{p_n}\\
    &=&\frac{kT}{q}ln\frac{N_A}{\frac{{n_i}^2}{N_d}}\\
    &=&\frac{kT}{q}ln\frac{N_AN_D}{{n_i}^2}\IEEEyesnumber
\end{IEEEeqnarray*}
\subsection{내부 전위 장벽} 위에서 구한 이 $V_{bi}$를 내부 전위 장벽(Built In Potential)이라 한다. 에너지 밴드를 그림으로 그려보면 다음과 같다.
\begin{figure}[!hbp]
    \centering
    \image[height=5cm]{built_in_potential.png}
    \caption{평형 상태의 PN 접합 에너지 다이어그램}
\end{figure}
뒤에서 다루겠지만, 다이오드에 0.7 V를 건다고 하는데 그 전압의 정체가 바로 이 내부 전위 장벽의 크기이다. 0.7 V를 걸어서 이 전위 장벽을 눌러서 평평하게 만드는 것이다.
\subsection{공핍층}
\figurename~\ref{fig:eq pn junc}에서 빨간 상자 구간에는 캐리어가 없다. 즉 캐리어 공핍 상태이다. 그래서 이 구간을 공핍층이라 부른다.
\section{역방향 바이어스}
\subsection{역방향 바이어스에서의 전류}
역방향 전압을 건다는 것은 N타입에 P타입보다 높은 전압을 건다는 뜻이다. 그렇게 되면 N타입 내의 자유 전자들이 외부 전압원의 +쪽으로 끌려가고, P타입 내의 양공들도 외부 전압원의 -쪽으로 끌려간다.
결국 공핍층은 넓어지며, 내부 전위 장벽은 외부 전압원의 크기만큼 더 높아지게 된다. 따라서 오른쪽에서 왼쪽으로의 전류는 없는 것과 마찬가지 상황이 된다. 하지만, 왼쪽에서 오른쪽으로 굴러 떨어지는 전자와 오른쪽에서 왼쪽으로 굴러 떨어지는(양공 입장에선 위아래가 뒤집힌다. 왜일까?) 양공에 의한 드리프트 전류는 존재한다.
언뜻 생각하면 이 드리프트 전류는 외부 전압원이 커지면 더 커질 것 같지만 그렇지가 않다. 왜냐면, 전류는 움직이는 전하의 양과 속도에 비례하는데, 움직일 수 있는 전하의 양은 캐리어 농도로 제한되어 있고, 속도는 이미 충분히 빨라서 전기장이 커진다고 해서 빨라지는 효과가 크지 않기 때문이다.
쉽게 생각해서, 거의 수직에 가까운 절벽에서 돌이 굴러 떨어질 때, 기울기가 더 수직에 가까워진다고 해서 속도에 큰 영향이 갈까? 그렇지 않을 것이다. 돌이 얼마나 자주 굴러 떨어지느냐가 전체적인 돌들의 시간당 움직임에 영향을 주게 될 것이다.
따라서, 역방향 바이어스를 걸어 주면 N타입에서 P타입으로 드리프트 전류가 외부 전압원에 대해 상관없이 일정 크기로 존재하게 된다. 이 N에서 P로 가는 방향을 역방향이라고 한다.
\subsection{접합 커패시턴스}
역방향 바이어스를 걸어주면 공핍층이 늘어난다고 했다. 그리고 공핍층 내에는 중화되지 않은 이온들이 들어 있다. 결국 역방향 바이어스를 걸어주게 되면 커패시터처럼 양쪽에 전하가 쌓이게 되므로, 역방향 바이어스 상태의 다이오드는 어떤 커패시터로 생각할 수 있다.
그런데, 일반적인 커패시터와는 달리, 역방향 전압이 얼마가 걸리냐에 따라 커패시턴스가 달라지는 가변 커패시터(variable capacitor-varactor)가 된다. 자세히 유도하진 않겠으나, 이 가변 커패시터는 역방향 전압 $Vr$에 대해 다음 관계를 갖는다.
\begin{equation}
    C\varpropto \frac{1}{\sqrt{Vr}}
\end{equation}
\section{순방향 바이어스}
\paragraph{순방향 바이어스에서의 전류}
순방향 바이어스 상태에서는 공핍층이 반대로 줄어들고, 전위 장벽이 낮아짐에 따라 P에서 N 방향으로 전류가 잘 흐를 수 있게 된다. 이 전류는 지수함수적으로 늘어나서, 0.7 V 정도의 순방향 바이어스가 걸리게 되면 도선과 마찬가지로 전류가 매우 크게 흐르게 된다.

\section{다이오드의 전압-전류 관계와 모델}
\subsection{지수함수 모델}
유도하진 않겠지만, 다이오드의 전압-전류 관계를 풀어보면 다음과 같이 정리된다.
\begin{equation}
    I_D=I_s(e^{V_D/V_T}-1)\label{eqn:exponential iv curve}
\end{equation}
식 \ref{eqn:exponential iv curve}에서 전압 $V_D=0$이면 전류 $I_D$는 0이다. 즉 이 상태에서 드리프트 전류와 확산 전류의 크기가 같음을 보여준다.
만약 $V_D$가 점점 커지다가 어느 정도에 이르면 지수함수의 기울기는 거의 수직할 정도로 아주 크게 된다. 따라서 그 전압을 넘어서서 전압을 가하는 것은 거의 불가능하다. 엄청난 전류가 흘러야 할 테니까.
반대로 $V_D$가 음수이면서 크기가 충분히 크다면 지수함수 항은 거의 0이고, 남은 것은 $I_D=-I_s$가 된다. 즉 역방향 드리프트 전류만 남음을 알 수 있다.
그래프를 그려보면 \figurename~ \ref{fig:exponential iv model}\과 같다.
\begin{figure}[!tbp]
    \centering
    \image[height=5cm]{diode_exponential_model.pdf}
    \caption{다이오드의 지수함수 모델}\label{fig:exponential iv model}
\end{figure}
\subsection{일정 전압 모델}
위 지수함수 모델을 근사해서, 어떤 문턱 전압 전까지는 전류가 흐르지 않다가($I_S$는 보통 매우 작다), 이 전압에 다다르면 전압원과 도선이 연결된 것처럼 모델링할 수 있다. 이를 일정 전압 모델이라고 한다.
여기서 문턱전압이 우리가 흔히 쓰는 0.7 V인 것이다. 그래프로 그려보면 \figurename~ \ref{fig:const voltage iv model}\과 같다.
\begin{figure}[!hbp]
    \centering
    \image[height=5cm]{diode_const_voltage_model.pdf}
    \caption{다이오드의 일정 전압 모델}\label{fig:const voltage iv model}
\end{figure}

\subsection{다이내믹 저항}
옴의 법칙에서 저항은 $R=V/I$이다. 이를 좀 더 확장하여 저항을 미분 형태로 정의해보자.
\begin{equation}
    r=\frac{dv}{di}
\end{equation}
이 저항을 다이내믹 저항이라고 하자. 이를 활용하여 \figurename~\ref{fig:const voltage iv model}\을 분석해보면 문턱전압에서 더 이상 전압이 변하지 않으므로 $dv=0$이다.
따라서 다이내믹 저항의 분자가 0이 되어 $r=0$이 된다. 즉 저항이 없고 전압원만 있는 것처럼 보인다는 것이다.
하지만, 지수함수 모델을 보면 기울기가 무한대가 아니다. 아주 클 뿐. 이 때의 다이내믹 저항을 구해보자.
\begin{IEEEeqnarray*}{rCl}
    I_D&=&I_s(e^{V_D/V_T}-1)\\
    \frac{dI_D}{dV_D}&=&\frac{1}{V_T}I_s(e^{V_D/V_T}-1)\\
    &=&\frac{I_D}{V_T}\\
    \therefore r&=&\frac{dV_D}{dI_D}=\frac{V_T}{I_D}\IEEEyesnumber\label{eqn:dynamic resistance}
\end{IEEEeqnarray*}
따라서 어떤 DC 전류/전압이 있는 상황에서 다이오드는 전압원과 작은 저항이 있는 것으로 모델링할 수 있다.

이 다이내믹 저항 개념은 뒤의 MOS나 BJT에서도 다뤄질 것이다.