\chapter{기초 반도체공학}
\section{기본 이론}
\subsection{반도체 재료}
반도체에 사용되는 원소들을 주기율표에서 살펴보면 아래와 같다.
\begin{figure}[!hbp]
    \centering
    \image[height=5cm]{periodic_table.png}
    \caption{주기율표 상의 반도체 재료들}
\end{figure}
이들의 특징은 원자가전자(가장 바깥에 노출되어 있는 전자의 수)가 $3\sim 5$개라는 것이다. 가운데 규소(Si)의 경우에는 4개가 있고, 그 왼편의 붕소(B)는 3개, 오른편의 인(P)는 5개가 있다.

한편, 옥텟 규칙이라는 것이 있다. 많은 원소들이 가장 바깥의 전자 수가 8개가 되면 좋아라 하는 것이다. 그래서 이름이 옥텟(8) 규칙이다.
규소들 가지고 이 규칙을 만족시킬 수 있을까? \figurename~\ref{fig:si crystal}\과 같이 규소 한 원자가 이웃들과 전자를 공유하면 어떨까? (파란 동그라미가 전자다.)
\begin{figure}[!tbp]
    \centering
    \image[height=5cm]{si_crystal.png}
    \caption{규소 결정}\label{fig:si crystal}
\end{figure}
가운데 빨간 동그라미 내의 규소를 보면 전자가 8개임을 알 수 있다. 이런 배열이 아주 길게 늘어진다면, (거의) 모든 규소 원자들은 옆의 규소 원자들과 전자를 공유하면서 각자 자신의 최외각 전자 수를 8개로 만들 수 있다.
그리고 각자가 이 상태를 너무나 좋아하기 때문에 서로 떨어지려 하지 않는다. 이렇게 결합되는 것을 공유 결합이라 한다.
\subsection{에너지 밴드}
이러한 공유 결합으로 나타나는 효과를 생각해보자. 양자역학에서 원자핵에 붙들린 전자는 \figurename~\ref{fig:atom well}\과 같이 우물 속에 있는 것과 비슷하다.
\begin{figure}[!hbp]
    \centering
    \image[height=5cm]{atom_well.png}
    \caption{원자핵에 의한 에너지 우물}\label{fig:atom well}
\end{figure}
원자핵 하나에 의한 전위는 $V=k\frac{q}{r}$ 형태이다. 가운데 동그라미 원자핵 좌우의 곡선이 이 전위(에너지)를 나타낸다.
어려운 얘기를 생략하자면, 양자역학에서 전자가 가질 수 있는 에너지는 띄엄띄엄 있다. 가운데 빨간색 줄이 그 에너지들을 의미한다. 좌우 간격이 좁을수록 가질 수 있는 에너지 간의 간격이 넓어지고, 간격이 넓어지면 에너지 간격은 줄어든다.
그런데, 규소 결정과 같이 원자들이 늘어서게 되면 어떻게 될까? 다음 \figurename~\ref{fig:si crystal energy band}\을 보자.
\begin{figure}[!hbp]
    \centering
    \image{si_crystal_energy_band.png}
    \caption{규소 결정의 에너지 밴드}\label{fig:si crystal energy band}
\end{figure}
양 끝의 전위 곡선 사이의 간격은 멀어졌고, 중간의 전위 곡선들은 옆의 원자핵의 전위 곡선들과 중첩됨에 따라 $\bigcap $ 형태가 되어 낮아졌다. 이에 따라 에너지 간격이 작아졌고, 결국에는 빨간 상자처럼 에너지들이 연속적인 것처럼 촘촘히 늘어서게 되었다.
이렇게 에너지가 연속적으로 늘어서게 된 것을 에너지 밴드라고 한다. 우리는 반도체 결정을 다루므로 앞으로는 에너지 밴드 개념을 사용할 것이다.

한편, 외부의 열에 의해서 전자가 에너지를 충분히 가지면 원자핵의 전기력을 이겨내고 결정 내를 자유롭게 돌아다닐 수 있게 된다. 그림으로 그리면 \figurename~\ref{fig:energy band}\와 같다.
\begin{figure}[!hbp]
    \centering
    \image[height=5cm]{energy_band.png}
    \caption{에너지 밴드}\label{fig:energy band}
\end{figure}

\figurename~\ref{fig:energy band}에서 $E_v$는 가전자대역(Valence Band)라 하고, $E_c$는 전도대역(Conduction Band)라 한다. 전자가 올라가서 자유롭게 움직임에 따라 전기를 흘릴 수 있는 대역이란 뜻이다.
그리고 이 두 대역 사이의 빈 에너지 공간을 금지대역(Forbidden Band)이라 하고, 이 높이를 밴드갭이라고 한다. 외부 온도가 높아지면 전자가 더 많은 열을 받아서 더 쉽게 이 밴드갭을 뛰어넘을 수 있으므로 온도가 올라가면 자유 전자들이 많아진다.

도체, 반도체, 부도체는 이 밴드갭이 얼마냐에 따라 달라진다. 도체의 경우는 밴드갭이 없거나 작아서 아주 쉽게 전자들이 전도대역으로 올라갈 수 있으므로 전기가 잘 통하는 것이고, 부도체는 이 밴드갭이 너무나 커서 전자가 거의 올라가지 못해서 전기가 흐르지 않는다. 반도체는 그 중간이다.

한편, 기본적으로 물질들은 전기적으로 중성이다. 따라서 가전자대역에 있던 전자가 전도대역으로 올라가면, 그 자리에는 빈 공간이 생길 것이다. 이를 양공(일본식으로는 정공, 영어로는 hole)이라 한다. 결국 전자가 전도대역으로 올라간다는 것은 전자-양공 쌍(Electron-Hole Pair)가 생긴다는 뜻이다.
상온(섭씨 25도 정도, 약 300K)에서 전도대역에 있는 전자의 농도는 음(negative에서 따와서 )$n_i$라 쓰고, 그 값은 약 $10^{10} 개/cm^3$이다. 반대로 양공은(잘 쓰이진 않지만) 전하가 부족한 상태, 즉 0에서 -가 빠진 상태인 +이므로 positive에서 따와서 $p_i$라고 할 수 있겠다.
또한 정공 입장에서의 전도대역은 전자 입장에서의 가전자대역($E_c$)가 될 것이다.
그리고 반도체의 특이한 점 중 하나는 전자와 양공 농도의 관계가 다음과 같다는 것이다.
\begin{equation}
    n_i p_i={n_i}^2\label{eqn:constant concentration product}
\end{equation}
전자와 양공 농도의 합이 아니라 곱이 일정하다! 이는 다음에 나올 도핑 상태에서도 마찬가지로 성립한다.
\subsection{페르미 준위}
반도체에서 가장 중요한 개념 중 하나가 페르미 준위이다. 이탈리아의 물리학자 엔리코 페르미가 만든 페르미 준위는 전자가 있을 확률이 0.5가 되는 에너지 레벨을 의미하고, $E_F$라 쓴다.
지금까지 우리는 도핑되지 않은 순수한 규소로 된 반도체를 다루었는데, 이를 진성 반도체(intrinsic semiconductor)라 한다. 진성 반도체의 페르미 준위는 $E_i$라 표기하고, 위치는 금지대역의 가운데 즉 $E_c$와 $E_v$의 평균이다.
이 페르미 준위로부터 반도체의 많은 성질들이 설명된다. 페르미 준위가 어떤 역할을 하는지 차차 살펴보자.
\begin{figure}[!tbp]
    \centering
    \image[height=5cm]{intrinsic_semicon.png}
    \caption{진성 반도체의 페르미 준위}
\end{figure}
\section{도핑}
도핑이란 진성 반도체에 뭔가를 넣는다는 뜻이다. 운동선수들이 약을 몸에 넣는 불법행위를 하면 도핑한다고 하는 것을 떠올려보자.
\subsubsection{N타입 도핑}
먼저 인(P)을 규소 결정에 집어넣어 보자. 인은 규소의 오른쪽에 있으므로 전자가 하나 더 많다. 따라서 \figurename~\ref{fig:Phosphorus doping}\과 같이 될 것이다.
전자는 음의 전기(Negative)를 띠므로 이 반도체를 N 타입 반도체라고 한다. 또한 전자를 제공한다는 의미에서 인을 도너(Donor)라고 한다.
\begin{figure}[!hbp]
    \centering
    \image[height=5cm]{Phosphorus_doping.png}
    \caption{인으로 도핑된 반도체}\label{fig:Phosphorus doping}
\end{figure}
보라색 잉여 전자가 하나 생겼다. 

이 잉여 전자는 자유롭게 결정 내를 돌아다닐 수 있다. 즉 전도대역에 있는 전자가 많아지는 것이다.
이를 수학적으로 표현하는 방법이 바로 페르미 준위이다. 진성 반도체에서는 전자의 존재 확률이 0.5인 지점이 가운데 있었는데, 전도대역에 전자가 더 많이 존재하므로 전자의 존재 확률이 0.5가 되는 지점은 더 위에 있을 것이다.
즉 페르미 준위가 위로 올라가는 것이다.
그림으로 그리면 \figurename~\ref{fig:n type fermi level}\과 같다.
\begin{figure}[!tbp]
    \centering
    \image[height=5cm]{n_type_semicon.png}
    \caption{N 타입 반도체의 페르미 준위}\label{fig:n type fermi level}
\end{figure}
N 타입 반도체에서는 진성 상태보다 전자의 수가 양공보다 많을 것이다. 이렇게 도핑된 반도체에서 더 많은 쪽을 다수 캐리어(Majority carrier)라 하고, 더 적은 쪽을 소수 캐리어(Minority carrier)라고 한다.
도너의 도핑 농도를 $N_D$라 하고, N타입에서의 전도대역 전자 농도를 $n_n$, 양공 농도를 $p_n$이라고 하자. 이 때 $n_n\cong N_D$가 성립한다(즉 도핑한 농도만큼이 전도대역 전자 농도가 된다). 그러면 이와 더불어 식 \ref{eqn:constant concentration product}에 의해 다음과 같은 수식이 성립한다.
\begin{equation}
    n_n p_n={n_i}^2 \Rightarrow p_n=\frac{{n_i}^2}{N_D}
\end{equation}

\subsubsection{P타입 도핑}
이번에는 붕소(B)를 집어넣어 보자. 붕소는 규소의 왼쪽에 있으므로 전자가 하나 부족하다. 즉 전자를 받아들일 수 있는 것이다. 그런 의미에서 이 떄의 붕소를 억셉터(Acceptor)라고 한다. 그리고 이 반도체를 positive에서 따와서 P 타입 반도체라고 한다.
그림으로 그리면 \figurename~\ref{fig:Boron doping}\과 같다.
\begin{figure}[!hbp]
    \centering
    \image[height=5cm]{boron_doping.png}
    \caption{붕소로 도핑된 반도체}\label{fig:Boron doping}
\end{figure}

이 양공은 전자를 받아들일 수 있는데, 그 전자는 어딘가에서 온 것이므로 전자를 받아들이면 그 전자가 출발한 곳에 또 전자가 하나 부족하게 된다. 이를 반대로 해석하면 양공이 전자와 반대 방향으로 옮겨다니는 것으로 해석할 수 있다.
즉 양공 입장에서 전도대역(전자 입장에서 가전자대역)에 양공이 많아지는 것이다. 페르미 준위는 전자 존재 확률이 1/2인 곳이라 했는데, 이는 양공 존재 확률도 1/2라는 뜻이므로, 양공이 $E_v$에 더 많이 존재하게 된 지금 페르미 준위는 $E_v$에 더 가까워질 것이다.
그림으로 그리면 \figurename~ \ref{fig:p type fermi level}\과 같다.
\begin{figure}[!tpb]
    \centering
    \image[height=5cm]{p_type_semicon.png}
    \caption{P 타입 반도체의 페르미 준위}\label{fig:p type fermi level}
\end{figure}
P 타입 반도체에서 전자 농도를 $n_p$, 양공 농도를 $p_p$라 하자. 또한, N 타입에서와 마찬가지로 도핑된 억셉터 농도 $N_A$와 가전자대역에 있는 정공 농도는 거의 같다($p_p\cong N_A$). 따라서 다음 수식이 성립한다.
\begin{equation}
    n_p p_p={n_i}^2 \Rightarrow n_p=\frac{{n_i}^2}{N_A}
\end{equation}

\section{반도체 내에서의 캐리어 움직임}
카x라이더란 게임을 해 보았다면 드리프트란 이름이 익숙할 것이다. 미끄러지는 것이 바로 드리프트 아닌가? 마찬가지로 전자나 양공도 드리프트를 할 수 있다.
드리프트만 하는 것이 아니다. 캐리어들이 서로 부딪치다 보면 결국엔 농도가 높은 곳에서 낮은 곳으로 움직이게 되는데, 이를 확산이라 한다.
이 두 메커니즘을 살펴보자.
\subsection{드리프트}
먼저 자유 공간에서의 전자 움직임을 생각해보자. 힘이 일정하게 주어질 때 다음 수식이 성립한다.
\begin{IEEEeqnarray*}{rCl}
    \vec{F} &=&-q\vec{E}\\
    \vec{a}&=&\frac{\vec{F}}{m_e}=-\frac{q\vec{e}}{m_e}\\
    \vec{v}&=&\vec{a}t+\vec{v_0}\\
    &=&-\frac{q\vec{E}}{m_e}t+\vec{v_0}
\end{IEEEeqnarray*}
그런데, 반도체 내에서는 전자가 자유롭게 움직이질 못한다. 규소나 도핑된 원자핵에 부딪히기도 하고, 서로간에 부딪히기도 한다. 따라서 마치 마찰력이 있는 상황처럼 된다.
이 때의 캐리어의 속도는 다음과 같이 전기장에 비례한다.
\begin{equation}
    \vec{v}_{drift}=\mu \vec{E}
\end{equation}
위에서 $\mu$는 이동도(mobility)라고 한다. 

한편 전류란 것은 단위시간당 어떤 면을 통과하는 전하량이므로, 캐리어가 많을수록, 캐리어가 빨리 이동할수록 전류는 커진다. 그리고 전류를 단위면적으로 나눠서 생각한 전류밀도는 결국 캐리어의 농도와 속도와 단위 전하량의 곱이 될 것이다.
그리고 전자는 음전기를 띠므로 전기장의 반대 방향으로, 양공은 양전기를 띠므로 전기장 방향으로 움직인다. 수식으로 정리하면 전자의 전류 밀도 $J_{n,drift}$과 양공에 의한 전류 밀도 $J_{p,drift}$는 다음과 같이 쓸 수 있다.
\begin{IEEEeqnarray*}{rCl}
    J_{n,drift}&=&n (-\mu_nE)(-q)=n(\mu_nE)q\\
    J_{p,drift}&=&p(\mu_pE)q\\
    J_{total,drift}&=&q(\mu_nn+\mu_pp)E
\end{IEEEeqnarray*}
\subsection{확산}
두 번째 캐리어의 움직임은 확산이다. 캐리어들은 무작위로 움직이며 서로 부딪히는데, 만약 위치에 따른 농도차가 있다면 전체적인 움직임은 농도가 높은 곳에서 낮은 곳으로 향하여 결국 평형 상태에선 농도가 고르게 되려 할 것이다.
그림으로 생각해보자.
\begin{figure}
    \centering
    \image[height=5cm]{diffusion.png}
    \caption{농도차가 있는 상태에서 입자의 움직임}\label{fig:diffusion}
\end{figure}
\figurename~\ref{fig:diffusion}에서 왼쪽 상자 내의 입자들 농도를 $n_1$이라 하고, 오른쪽 상자 내의 입자들 농도를 $n_2$라 하자. 상자의 높이는 농도를 의미한다. 즉 $n_1>n_2$인 상황이다.
이 때, 무작위로 움직인다고 했으니 각 상자의 절반은 각자 왼쪽과 오른쪽으로 움직인다. 왼쪽 상자의 왼쪽 절반인 $n_1/2$는 왼쪽으로, 오른쪽 절반인 $n_1/2$는 오른쪽으로 간다.
오른쪽 상자도 마찬가지로 왼쪽 절반인 $n_2/2$는 왼쪽으로, 오른쪽 절반인 $n_2/2$는 오른쪽으로 움직인다. 이 때, 두 상자 가운데 지점에서의 순수 입자 이동량을 생각해보면 오른쪽으로 $(n_1-n_2)/2$가 될 것이다.
이로써 입자들은 농도가 높은 쪽에서 농도가 낮은 쪽으로 이동함을 설명할 수 있다. 또한, 농도 차이가 급격할수록(단위 길이당 농도차가 클수록) 더 많은 입자들이 움직이게 될 것이다.

1차원(x방향)에서 단위 길이당 전자의 농도차는 $\frac{dn}{dx}$이고 단위 길이당 양공의 농도차는 $\frac{dp}{dx}$이다. 그리고 농도차의 반대 방향으로 움직이므로 움직임의 부호는 이들 농도차에 -가 붙어야 할 것이다.
그리고 농도차에 대한 전자와 양공 각각의 비례 상수인 확산 계수 $D_n, D_p$가 있을 것이다. 여기에 전하량을 곱해주면 전류밀도가 된다. 수식으로 정리하면 다음과 같다.
\begin{IEEEeqnarray*}{rCl}
    J_{n,diff}&=&-(-q)D_n\frac{dn}{dx}\\
    J_{p,diff}&=&-qD_p\frac{dp}{dx}\\
    J_{total,diff}&=&q(D_n\frac{dn}{dx}-D_p\frac{dp}{dx})
\end{IEEEeqnarray*}

\subsection{아인슈타인 관계식}
언뜻 보면 드리프트와 확산은 서로 상관이 없을 것 같다. 하지만 아인슈타인은 그렇지 않음을 증명했다. 다음과 같은 관계식이 성립한다.
\begin{equation*}
    \frac{D}{\mu}=\frac{kT}{q}
\end{equation*}
즉 같은 온도에서는 드리프트의 비례상수(이동도)와 확산의 비례상수(확산 계수)가 같은 비율로 움직인다는 뜻이다. 반도체 책에서는 이 수식을 유도하지만, 여기서는 증명하지 않고 넘어가겠다.